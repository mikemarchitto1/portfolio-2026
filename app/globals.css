@import "tailwindcss";
@import "tw-animate-css";

/* Dark mode variant */
@custom-variant dark (&:is(.dark *));

/* ================================
   THEME TOKENS (COLORS, SPACING, TYPE)
   ================================ */
@theme inline {
  /* Portfolio palette */
  --color-portfolio-black: #000000;
  --color-portfolio-blue: #264d99;
  --color-portfolio-white: #ffffff;

  /* Layout & grid */
  --container-max: 1328px;
  --margin-desktop: 64px;
  --gutter-desktop: 48px;
  --margin-mobile: 16px;
  --gutter-mobile: 16px;

  /* 4px spacing grid */
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-5: 20px;
  --space-6: 24px;
  --space-8: 32px;
  --space-10: 40px;
  --space-12: 48px;
  --space-16: 64px;

  /* Typography tokens */
  --text-body: 1rem;
  --text-body--line-height: 1.5;

  /* These are now used by the responsive scale below */
  --text-h1-min: 2rem; /* 32px */
  --text-h1-max: 3.75rem; /* 60px */

  --text-h2-min: 1.75rem; /* 28px */
  --text-h2-max: 3rem; /* 48px */

  --text-h3-min: 1.5rem; /* 24px */
  --text-h3-max: 2.125rem; /* 34px */

  --text-small: 0.875rem; /* 14px */

  /* System tokens */
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

/* ================================
   LIGHT MODE BASE COLORS
   ================================ */
:root {
  --radius: 0.625rem;

  --background: oklch(1 0 0);
  --foreground: oklch(0.141 0.005 285.823);

  --card: oklch(1 0 0);
  --card-foreground: oklch(0.141 0.005 285.823);

  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.141 0.005 285.823);

  --primary: oklch(0.21 0.006 285.885);
  --primary-foreground: oklch(0.985 0 0);

  --secondary: oklch(0.967 0.001 286.375);
  --secondary-foreground: oklch(0.21 0.006 285.885);

  --muted: oklch(0.967 0.001 286.375);
  --muted-foreground: oklch(0.552 0.016 285.938);

  --accent: oklch(0.967 0.001 286.375);
  --accent-foreground: oklch(0.21 0.006 285.885);

  --destructive: oklch(0.577 0.245 27.325);

  --border: oklch(0.92 0.004 286.32);
  --input: oklch(0.92 0.004 286.32);
  --ring: oklch(0.705 0.015 286.067);

  --chart-1: oklch(0.646 0.222 41.116);
  --chart-2: oklch(0.6 0.118 184.704);
  --chart-3: oklch(0.398 0.07 227.392);
  --chart-4: oklch(0.828 0.189 84.429);
  --chart-5: oklch(0.769 0.188 70.08);

  --sidebar: oklch(0.985 0 0);
  --sidebar-foreground: oklch(0.141 0.005 285.823);
  --sidebar-primary: oklch(0.21 0.006 285.885);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.967 0.001 286.375);
  --sidebar-accent-foreground: oklch(0.21 0.006 285.885);
  --sidebar-border: oklch(0.92 0.004 286.32);
  --sidebar-ring: oklch(0.705 0.015 286.067);
}

/* ================================
   DARK MODE OVERRIDES
   ================================ */
.dark {
  --background: oklch(0.141 0.005 285.823);
  --foreground: oklch(0.985 0 0);

  --card: oklch(0.21 0.006 285.885);
  --card-foreground: oklch(0.985 0 0);

  --popover: oklch(0.21 0.006 285.885);
  --popover-foreground: oklch(0.985 0 0);

  --primary: oklch(0.92 0.004 286.32);
  --primary-foreground: oklch(0.21 0.006 285.885);

  --secondary: oklch(0.274 0.006 286.033);
  --secondary-foreground: oklch(0.985 0 0);

  --muted: oklch(0.274 0.006 286.033);
  --muted-foreground: oklch(0.705 0.015 286.067);

  --accent: oklch(0.274 0.006 286.033);
  --accent-foreground: oklch(0.985 0 0);

  --destructive: oklch(0.704 0.191 22.216);

  --border: oklch(1 0 0 / 10%);
  --input: oklch(1 0 0 / 15%);
  --ring: oklch(0.552 0.016 285.938);

  --chart-1: oklch(0.488 0.243 264.376);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);

  --sidebar: oklch(0.21 0.006 285.885);
  --sidebar-foreground: oklch(0.985 0 0);
  --sidebar-primary: oklch(0.488 0.243 264.376);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.274 0.006 286.033);
  --sidebar-accent-foreground: oklch(0.985 0 0);
  --sidebar-border: oklch(1 0 0 / 10%);
  --sidebar-ring: oklch(0.552 0.016 285.938);
}

/* ================================
   BASE LAYER â€” GLOBAL TYPOGRAPHY
   ================================ */
@layer base {
  /* Reset borders/outlines */
  * {
    * {
      border-color: var(--border);
      outline-color: color-mix(in srgb, var(--ring) 50%, transparent);
    }
  }

  /* Global font baseline */
  html,
  body {
    font-family: var(--font-roboto), sans-serif;
    font-size: 16px;
    line-height: 24px;
    @apply bg-background text-foreground;
  }

  /* ================================
     RESPONSIVE TYPE SCALE (THE FIX)
     ================================ */

  h1 {
    font-size: clamp(var(--text-h1-min), 4vw, var(--text-h1-max));
    line-height: 1.2;
    font-weight: 400;
  }

  h2 {
    font-size: clamp(var(--text-h2-min), 3vw, var(--text-h2-max));
    line-height: 1.25;
    font-weight: 400;
  }

  h3 {
    font-size: clamp(var(--text-h3-min), 2.5vw, var(--text-h3-max));
    line-height: 1.3;
    font-weight: 400;
  }

  p {
    font-size: var(--text-body);
    line-height: var(--text-body--line-height);
    font-weight: 300;
  }

  small {
    font-size: var(--text-small);
    line-height: 1.4;
  }
}
